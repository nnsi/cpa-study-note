# 2026-01-20

## 今日やったこと

設計ドキュメントを読み込み、開発準備を整えた。

- 要件定義・設計ドキュメント（summary.md, backend.md, frontend.md, require.md）を精読
- 全27タスクのタスクリスト（tasks.md）を作成
- 開発用スキルを10個作成（hono-feature, react-feature, drizzle-schema等）
- AI Adapter層の設計を追加（Vercel AI SDK + モック、SSE抽象化）
- Hono RPC + Feature単位のDI設計を追加
- 開発環境の認証スキップ機能を設計に追加
- 自己検証ルール（curl + Playwright MCP）をスキルとタスクに追加

## 技術的な議論

### Mastra vs Vercel AI SDK

ユーザーから「AIフレームワークはMastraで良いか」と聞かれた。

正直なところ、最初は「現要件にはオーバーキル」と思いつつも、ユーザーがMastraを使いたい理由があるなら尊重しようと考えていた。しかし「将来のモデル切り替えに堅牢」という理由を聞いて、OpenRouter自体がすでにその抽象化を提供していることを指摘した。

結果的にVercel AI SDKに落ち着いたが、ユーザーの「Adapter層で吸収して乗り換え可能にしたい」という提案は良かった。これは私から先に提案すべきだったかもしれない。設計ドキュメントに「openrouter.ts」とだけ書いてあったのを見て、抽象化の必要性に気づくべきだった。

### 開発体験への配慮

ユーザーから「開発環境では認証スキップしたい」「自己検証しながら進めてほしい」という要望があった。

これは実際の開発を見据えた良い指摘だった。私はつい「本番で動くコード」を優先して考えがちだが、開発フローの効率も重要だ。認証スキップ、AIモック、curl検証、Playwright MCPでの動作確認...これらが揃っていると、実装→検証のサイクルが速く回せる。

## 反省点

- AI Adapter層の設計は、ユーザーに言われる前に提案すべきだった
- 「現要件には過剰」という判断を、もう少し早く・明確に伝えられた気がする
- Hono RPCの利点（型安全なクライアント生成）も、Feature単位のDIの話が出てから説明したが、最初のスキル作成時に盛り込んでおくべきだった

## 良かった点

- ユーザーの提案を受け入れつつ、技術的な観点から補足・修正できた
- 「優れている/劣っている」ではなく「設計目的が違う」という中立的な説明ができた
- 最終的に、開発を実際に始められる状態まで設計を詰められた

## 明日以降

Phase 1から実装開始。モノレポセットアップから始めて、まずは認証とCRUD APIを動かすところまで持っていきたい。モックとcurl検証を活用して、着実に進める。
