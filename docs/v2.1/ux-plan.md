# UXæ”¹å–„è¨ˆç”»: å­¦ç¿’å°ç·šã®çŸ­ç¸®

## èƒŒæ™¯

ç¾åœ¨ã®å­¦ç¿’ã‚¿ãƒ–ã¯è«–ç‚¹ã«åˆ°é”ã™ã‚‹ã¾ã§5å›ã‚¯ãƒªãƒƒã‚¯ãŒå¿…è¦:

```
å­¦ç¿’é ˜åŸŸ â†’ ç§‘ç›®ä¸€è¦§ â†’ å¤§å˜å…ƒ â†’ ä¸­å˜å…ƒ â†’ è«–ç‚¹è©³ç´°
   1          2          3        4         5
```

ã“ã‚Œã¯ãƒ‡ãƒ¼ã‚¿æ•´ç†ã«ã¯é©åˆ‡ã ãŒã€å­¦ç¿’ã¸ã®ã‚¢ã‚¯ã‚»ã‚¹å°ç·šã¨ã—ã¦ã¯ç ´ç¶»ã—ã¦ã„ã‚‹ã€‚

## ç›®çš„

è«–ç‚¹ã¸ã®ã‚¢ã‚¯ã‚»ã‚¹ã‚’ **5ã‚¯ãƒªãƒƒã‚¯ â†’ 1ã‚¯ãƒªãƒƒã‚¯** ã«çŸ­ç¸®ã—ã€ãƒ¦ãƒ¼ã‚¶ãƒ¼é›¢è„±ã‚’é˜²ã

## è§£æ±ºç­–

ã€Œæ•´ç†æ§‹é€ ã€ã¨ã€Œã‚¢ã‚¯ã‚»ã‚¹å°ç·šã€ã‚’åˆ†é›¢ã—ã€è¤‡æ•°ã®ã‚·ãƒ§ãƒ¼ãƒˆã‚«ãƒƒãƒˆã‚’æä¾›ã™ã‚‹ã€‚

---

## å®Ÿè£…ã™ã‚‹æ©Ÿèƒ½

### 1. ã‚°ãƒ­ãƒ¼ãƒãƒ«æ¤œç´¢

**åŠ¹æœ**: 0â†’1ã‚¯ãƒªãƒƒã‚¯ã§ä»»æ„ã®è«–ç‚¹ã¸

- è«–ç‚¹åãƒ»èª¬æ˜ã§ã‚¤ãƒ³ã‚¯ãƒªãƒ¡ãƒ³ã‚¿ãƒ«æ¤œç´¢
- `Ctrl+K` / `Cmd+K` ã§ãƒ•ã‚©ãƒ¼ã‚«ã‚¹
- PC: ä¸­å¤®ãƒ¢ãƒ¼ãƒ€ãƒ«ã€ãƒ¢ãƒã‚¤ãƒ«: ãƒ•ãƒ«ã‚¹ã‚¯ãƒªãƒ¼ãƒ³
- æ¤œç´¢çµæœã‹ã‚‰è«–ç‚¹è©³ç´°ã¸ç›´æ¥é·ç§»

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚  ğŸ” è«–ç‚¹ã‚’æ¤œç´¢...            Ctrl+K     â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
         â†“ ã‚¤ãƒ³ã‚¯ãƒªãƒ¡ãƒ³ã‚¿ãƒ«æ¤œç´¢
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚ ã€Œæ¸›ä¾¡å„Ÿå´ã€ã§æ¤œç´¢                        â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚ ğŸ“„ æ¸›ä¾¡å„Ÿå´ã®åŸºæœ¬      ç°¿è¨˜ > å›ºå®šè³‡ç”£    â”‚
â”‚ ğŸ“„ æ¸›ä¾¡å„Ÿå´è²»ã®è¨ˆç®—    è²¡å‹™ä¼šè¨ˆ > è²»ç”¨    â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

### 2. ç¶šãã‹ã‚‰å­¦ç¿’

**åŠ¹æœ**: 1ã‚¯ãƒªãƒƒã‚¯ã§æœ€è¿‘ã®è«–ç‚¹ã¸

- ãƒ€ãƒƒã‚·ãƒ¥ãƒœãƒ¼ãƒ‰ä¸Šéƒ¨ã«æœ€è¿‘ã‚¢ã‚¯ã‚»ã‚¹ã—ãŸè«–ç‚¹ã‚’ã‚«ãƒ¼ãƒ‰è¡¨ç¤º
- ã€Œç¶šã‘ã‚‹â†’ã€ãƒœã‚¿ãƒ³ã§å³åº§ã«è«–ç‚¹è©³ç´°ã¸
- æ—¢å­˜API `GET /subjects/progress/recent` ã‚’æ´»ç”¨

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚ ğŸ“š ç¶šãã‹ã‚‰å­¦ç¿’                                   â”‚
â”‚ â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â” â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”            â”‚
â”‚ â”‚ æ¸›ä¾¡å„Ÿå´ã®åŸºæœ¬  â”‚ â”‚ æ£šå¸è³‡ç”£ã®è©•ä¾¡  â”‚ â† æ¨ªã‚¹ã‚¯ãƒ­ãƒ¼ãƒ«â”‚
â”‚ â”‚ 3æ™‚é–“å‰        â”‚ â”‚ æ˜¨æ—¥           â”‚            â”‚
â”‚ â”‚     [ç¶šã‘ã‚‹â†’] â”‚ â”‚     [ç¶šã‘ã‚‹â†’] â”‚            â”‚
â”‚ â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜ â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜            â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

### 3. ãƒ–ãƒƒã‚¯ãƒãƒ¼ã‚¯ï¼ˆå…¨éšå±¤å¯¾å¿œï¼‰

**åŠ¹æœ**: 1ã‚¯ãƒªãƒƒã‚¯ã§ã‚ˆãä½¿ã†ç§‘ç›®ãƒ»å˜å…ƒãƒ»è«–ç‚¹ã¸

- **ç§‘ç›®ãƒ»å¤§å˜å…ƒãƒ»ä¸­å˜å…ƒãƒ»è«–ç‚¹** ã™ã¹ã¦ãƒ–ãƒƒã‚¯ãƒãƒ¼ã‚¯å¯èƒ½
- å„ç”»é¢ã«â˜†ãƒˆã‚°ãƒ«è¿½åŠ 
- ãƒ€ãƒƒã‚·ãƒ¥ãƒœãƒ¼ãƒ‰ã«ãƒ–ãƒƒã‚¯ãƒãƒ¼ã‚¯ä¸€è¦§è¡¨ç¤º
- DBãƒ†ãƒ¼ãƒ–ãƒ« `user_bookmarks` æ–°è¦ä½œæˆï¼ˆæ±ç”¨è¨­è¨ˆï¼‰

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚ â­ ãƒ–ãƒƒã‚¯ãƒãƒ¼ã‚¯                                   â”‚
â”‚ ğŸ“˜ ç°¿è¨˜è«–ï¼ˆç§‘ç›®ï¼‰                                 â”‚
â”‚ ğŸ“ å›ºå®šè³‡ç”£ï¼ˆä¸­å˜å…ƒï¼‰                             â”‚
â”‚ ğŸ“„ æ¸›ä¾¡å„Ÿå´ã®åŸºæœ¬ï¼ˆè«–ç‚¹ï¼‰                         â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

---

## ãƒ€ãƒƒã‚·ãƒ¥ãƒœãƒ¼ãƒ‰æ–°ãƒ¬ã‚¤ã‚¢ã‚¦ãƒˆ

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚ ã“ã‚“ã«ã¡ã¯ã€â—‹â—‹ã•ã‚“                          â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚ ğŸ“š ç¶šãã‹ã‚‰å­¦ç¿’                              â”‚
â”‚ â”Œâ”€â”€â”€â”€â”€â” â”Œâ”€â”€â”€â”€â”€â” â”Œâ”€â”€â”€â”€â”€â”                    â”‚
â”‚ â”‚è«–ç‚¹A â”‚ â”‚è«–ç‚¹B â”‚ â”‚è«–ç‚¹C â”‚  â† æ¨ªã‚¹ã‚¯ãƒ­ãƒ¼ãƒ«   â”‚
â”‚ â””â”€â”€â”€â”€â”€â”˜ â””â”€â”€â”€â”€â”€â”˜ â””â”€â”€â”€â”€â”€â”˜                    â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚ â­ ãƒ–ãƒƒã‚¯ãƒãƒ¼ã‚¯                              â”‚
â”‚ ğŸ“˜ç§‘ç›®A  ğŸ“å˜å…ƒB  ğŸ“„è«–ç‚¹C                   â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚ ä»Šæ—¥ã®æ´»å‹• â”‚ æœ€è¿‘ã®è«–ç‚¹ï¼ˆæ—¢å­˜ï¼‰               â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚ ã‚¯ã‚¤ãƒƒã‚¯ã‚¢ã‚¯ã‚»ã‚¹ï¼ˆæ—¢å­˜4æšï¼‰                   â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚ å­¦ç¿’é€²æ— / å­¦ç¿’æ¨ç§»ï¼ˆæ—¢å­˜ï¼‰                   â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

---

## ã‚¹ãƒãƒ›å¯¾å¿œ

| æ©Ÿèƒ½ | PC | ãƒ¢ãƒã‚¤ãƒ« |
|------|-----|---------|
| æ¤œç´¢ | ãƒ˜ãƒƒãƒ€ãƒ¼ã«ã‚¢ã‚¤ã‚³ãƒ³ + Ctrl+K | ãƒ˜ãƒƒãƒ€ãƒ¼ã«ã‚¢ã‚¤ã‚³ãƒ³ â†’ ãƒ•ãƒ«ã‚¹ã‚¯ãƒªãƒ¼ãƒ³ãƒ¢ãƒ¼ãƒ€ãƒ« |
| ç¶šãã‹ã‚‰ | æ¨ªã‚¹ã‚¯ãƒ­ãƒ¼ãƒ«ã‚«ãƒ¼ãƒ‰ | ç¸¦ç©ã¿ã‚«ãƒ¼ãƒ‰ |
| ãƒ–ãƒƒã‚¯ãƒãƒ¼ã‚¯ | ã‚¿ã‚¤ãƒ—åˆ¥ã‚°ãƒ«ãƒ¼ãƒ—è¡¨ç¤º | ç¸¦ãƒªã‚¹ãƒˆ |
| ãƒ–ãƒƒã‚¯ãƒãƒ¼ã‚¯ãƒœã‚¿ãƒ³ | å„ç”»é¢ã®ã‚¿ã‚¤ãƒˆãƒ«æ¨ªã«â˜† | åŒã˜ï¼ˆã‚¿ãƒƒãƒ—é ˜åŸŸå¤§ãã‚ï¼‰ |

ãƒ–ãƒ¬ãƒ¼ã‚¯ãƒã‚¤ãƒ³ãƒˆ: `lg:` (1024px) ã‚’æ—¢å­˜ã«åˆã‚ã›ã‚‹

---

## æŠ€è¡“è¨­è¨ˆ

### Phase 1: ãƒ–ãƒƒã‚¯ãƒãƒ¼ã‚¯æ©Ÿèƒ½ï¼ˆå…¨éšå±¤å¯¾å¿œï¼‰

#### DBã‚¹ã‚­ãƒ¼ãƒ
**`packages/db/src/schema/bookmark.ts`** (æ–°è¦)
```typescript
export const userBookmarks = sqliteTable(
  "user_bookmarks",
  {
    id: text("id").primaryKey(),
    userId: text("user_id").notNull().references(() => users.id, { onDelete: "cascade" }),
    targetType: text("target_type").notNull(), // "subject" | "category" | "topic"
    targetId: text("target_id").notNull(),
    createdAt: integer("created_at", { mode: "timestamp" }).notNull(),
  },
  (table) => [
    unique().on(table.userId, table.targetType, table.targetId),
    index("user_bookmarks_user_id_idx").on(table.userId),
    index("user_bookmarks_target_idx").on(table.targetType, table.targetId),
  ]
)
```

#### API
| ãƒ¡ã‚½ãƒƒãƒ‰ | ãƒ‘ã‚¹ | èª¬æ˜ |
|---------|------|------|
| GET | `/api/bookmarks` | ãƒ–ãƒƒã‚¯ãƒãƒ¼ã‚¯ä¸€è¦§å–å¾—ï¼ˆéšå±¤æƒ…å ±ä»˜ãï¼‰ |
| POST | `/api/bookmarks` | ãƒ–ãƒƒã‚¯ãƒãƒ¼ã‚¯è¿½åŠ  |
| DELETE | `/api/bookmarks/:targetType/:targetId` | ãƒ–ãƒƒã‚¯ãƒãƒ¼ã‚¯å‰Šé™¤ |

**ãƒªã‚¯ã‚¨ã‚¹ãƒˆ/ãƒ¬ã‚¹ãƒãƒ³ã‚¹ä¾‹:**
```typescript
// POST /api/bookmarks
{ targetType: "category", targetId: "cat_123" }

// GET /api/bookmarks ãƒ¬ã‚¹ãƒãƒ³ã‚¹
{
  bookmarks: [
    { targetType: "subject", targetId: "sub_1", name: "ç°¿è¨˜è«–", path: "ç°¿è¨˜è«–" },
    { targetType: "category", targetId: "cat_1", name: "å›ºå®šè³‡ç”£", path: "ç°¿è¨˜è«– > è³‡ç”£ > å›ºå®šè³‡ç”£" },
    { targetType: "topic", targetId: "top_1", name: "æ¸›ä¾¡å„Ÿå´", path: "ç°¿è¨˜è«– > è³‡ç”£ > å›ºå®šè³‡ç”£ > æ¸›ä¾¡å„Ÿå´" },
  ]
}
```

#### ãƒãƒƒã‚¯ã‚¨ãƒ³ãƒ‰æ§‹æˆ
**`apps/api/src/features/bookmark/`** (æ–°è¦Feature)
- `repository.ts` - CRUDæ“ä½œ + éšå±¤æƒ…å ±å–å¾—
- `usecase.ts` - ãƒ“ã‚¸ãƒã‚¹ãƒ­ã‚¸ãƒƒã‚¯
- `route.ts` - ã‚¨ãƒ³ãƒ‰ãƒã‚¤ãƒ³ãƒˆå®šç¾©

#### ãƒ•ãƒ­ãƒ³ãƒˆã‚¨ãƒ³ãƒ‰æ§‹æˆ
**`apps/web/src/features/bookmark/`** (æ–°è¦)
- `api.ts` - Hono RPC ã‚¯ãƒ©ã‚¤ã‚¢ãƒ³ãƒˆ
- `hooks.ts` - `useBookmarks()`, `useToggleBookmark()`
- `components/BookmarkButton.tsx` - â˜†ãƒˆã‚°ãƒ«ï¼ˆå…¨ç”»é¢å…±é€šï¼‰
- `components/BookmarksList.tsx` - ãƒ€ãƒƒã‚·ãƒ¥ãƒœãƒ¼ãƒ‰ç”¨ï¼ˆã‚¿ã‚¤ãƒ—åˆ¥ã‚°ãƒ«ãƒ¼ãƒ—è¡¨ç¤ºï¼‰

---

### Phase 2: ã‚°ãƒ­ãƒ¼ãƒãƒ«æ¤œç´¢

#### API
```
GET /api/subjects/search?q=<query>&limit=10
```

ãƒ¬ã‚¹ãƒãƒ³ã‚¹:
```typescript
{
  topics: Array<{
    topicId: string
    topicName: string
    description: string | null
    subjectId: string
    subjectName: string
    categoryId: string
    categoryName: string
  }>
}
```

#### å…±æœ‰ã‚¹ã‚­ãƒ¼ãƒ
**`packages/shared/src/schemas/topic.ts`**
```typescript
export const topicSearchRequestSchema = z.object({
  q: z.string().min(1).max(100),
  limit: z.coerce.number().int().min(1).max(50).default(10),
})
```

#### ãƒãƒƒã‚¯ã‚¨ãƒ³ãƒ‰
**`apps/api/src/features/topic/`** æ‹¡å¼µ
- `repository.ts` - `searchTopics(userId, query, limit)` è¿½åŠ 
- `usecase.ts` - `searchTopics` UseCaseè¿½åŠ 
- `route.ts` - `GET /search` è¿½åŠ 

#### ãƒ•ãƒ­ãƒ³ãƒˆã‚¨ãƒ³ãƒ‰
**`apps/web/src/features/search/`** (æ–°è¦)
- `api.ts` - æ¤œç´¢APIå‘¼ã³å‡ºã—
- `hooks.ts` - `useGlobalSearch(query)` (300msãƒ‡ãƒã‚¦ãƒ³ã‚¹)
- `logic.ts` - ã‚­ãƒ¼ãƒœãƒ¼ãƒ‰ã‚·ãƒ§ãƒ¼ãƒˆã‚«ãƒƒãƒˆåˆ¤å®š
- `components/GlobalSearchModal.tsx` - æ¤œç´¢ãƒ¢ãƒ¼ãƒ€ãƒ«
- `components/SearchInput.tsx` - å…¥åŠ›ãƒ•ã‚£ãƒ¼ãƒ«ãƒ‰
- `components/SearchResultItem.tsx` - çµæœã®1è¡Œ

---

### Phase 3: ç¶šãã‹ã‚‰å­¦ç¿’

#### ãƒ•ãƒ­ãƒ³ãƒˆã‚¨ãƒ³ãƒ‰
**`apps/web/src/features/home/components/ContinueLearningSection.tsx`** (æ–°è¦)
- æ—¢å­˜API `GET /subjects/progress/recent` ã‚’æ´»ç”¨
- ã‚«ãƒ¼ãƒ‰å½¢å¼ã§æœ€è¿‘ã®è«–ç‚¹ã‚’è¡¨ç¤º
- PC: æ¨ªã‚¹ã‚¯ãƒ­ãƒ¼ãƒ«ã€ãƒ¢ãƒã‚¤ãƒ«: ç¸¦ç©ã¿

---

## ä¿®æ­£ãƒ•ã‚¡ã‚¤ãƒ«ä¸€è¦§

### æ–°è¦ä½œæˆ
```
packages/db/src/schema/bookmark.ts
packages/shared/src/schemas/bookmark.ts

apps/api/src/features/bookmark/
  â”œâ”€ index.ts
  â”œâ”€ repository.ts
  â”œâ”€ usecase.ts
  â””â”€ route.ts

apps/web/src/features/search/
  â”œâ”€ index.ts
  â”œâ”€ api.ts
  â”œâ”€ hooks.ts
  â”œâ”€ logic.ts
  â””â”€ components/
      â”œâ”€ GlobalSearchModal.tsx
      â”œâ”€ SearchInput.tsx
      â””â”€ SearchResultItem.tsx

apps/web/src/features/bookmark/
  â”œâ”€ index.ts
  â”œâ”€ api.ts
  â”œâ”€ hooks.ts
  â””â”€ components/
      â”œâ”€ BookmarkButton.tsx
      â””â”€ BookmarksList.tsx

apps/web/src/features/home/components/ContinueLearningSection.tsx
```

### ä¿®æ­£
```
packages/db/src/schema/index.ts (userBookmarks exportè¿½åŠ )
packages/shared/src/schemas/index.ts (exportè¿½åŠ )
packages/shared/src/schemas/topic.ts (æ¤œç´¢ã‚¹ã‚­ãƒ¼ãƒè¿½åŠ )

apps/api/src/index.ts (bookmarkRoutesè¿½åŠ )
apps/api/src/features/topic/repository.ts (searchTopicsè¿½åŠ )
apps/api/src/features/topic/usecase.ts (searchTopicsè¿½åŠ )
apps/api/src/features/topic/route.ts (/searchè¿½åŠ )

apps/web/src/components/layout/Header.tsx (æ¤œç´¢ã‚¢ã‚¤ã‚³ãƒ³è¿½åŠ )
apps/web/src/routes/__root.tsx (ã‚­ãƒ¼ãƒœãƒ¼ãƒ‰ã‚·ãƒ§ãƒ¼ãƒˆã‚«ãƒƒãƒˆ)
apps/web/src/routes/index.tsx (ãƒ€ãƒƒã‚·ãƒ¥ãƒœãƒ¼ãƒ‰ãƒ¬ã‚¤ã‚¢ã‚¦ãƒˆ)
apps/web/src/features/topic/components/TopicInfo.tsx (BookmarkButtonè¿½åŠ )
apps/web/src/features/subject/components/ (BookmarkButtonè¿½åŠ )
apps/web/src/features/home/index.ts (exportè¿½åŠ )
```

---

## æ¤œè¨¼æ–¹æ³•

### Phase 1: ãƒ–ãƒƒã‚¯ãƒãƒ¼ã‚¯
1. `pnpm --filter db db:generate && pnpm --filter db db:migrate`
2. `pnpm --filter api dev` + `pnpm --filter web dev`
3. curl ã§ API ãƒ†ã‚¹ãƒˆ
   - `POST /api/bookmarks` (ç§‘ç›®ãƒ»å˜å…ƒãƒ»è«–ç‚¹ãã‚Œãã‚Œ)
   - `GET /api/bookmarks`
   - `DELETE /api/bookmarks/:targetType/:targetId`
4. ãƒ–ãƒ©ã‚¦ã‚¶ã§å„ç”»é¢ï¼ˆç§‘ç›®ãƒ»å˜å…ƒãƒ»è«–ç‚¹ï¼‰ã®â˜†ãƒˆã‚°ãƒ«ç¢ºèª
5. ãƒ€ãƒƒã‚·ãƒ¥ãƒœãƒ¼ãƒ‰ã§ãƒ–ãƒƒã‚¯ãƒãƒ¼ã‚¯è¡¨ç¤ºç¢ºèªï¼ˆã‚¿ã‚¤ãƒ—åˆ¥ã‚°ãƒ«ãƒ¼ãƒ—ï¼‰

### Phase 2: ã‚°ãƒ­ãƒ¼ãƒãƒ«æ¤œç´¢
1. curl ã§ `GET /api/subjects/search?q=æ¸›ä¾¡` ãƒ†ã‚¹ãƒˆ
2. ãƒ–ãƒ©ã‚¦ã‚¶ã§ Ctrl+K â†’ ãƒ¢ãƒ¼ãƒ€ãƒ«è¡¨ç¤ºç¢ºèª
3. æ¤œç´¢ã—ã¦è«–ç‚¹ã‚¯ãƒªãƒƒã‚¯ â†’ é·ç§»ç¢ºèª
4. ã‚¹ãƒãƒ›ãƒ“ãƒ¥ãƒ¼ï¼ˆDevToolsï¼‰ã§ãƒ•ãƒ«ã‚¹ã‚¯ãƒªãƒ¼ãƒ³ç¢ºèª

### Phase 3: ç¶šãã‹ã‚‰å­¦ç¿’
1. ã„ãã¤ã‹ã®è«–ç‚¹ã«ã‚¢ã‚¯ã‚»ã‚¹ã—ã¦ lastAccessedAt ã‚’æ›´æ–°
2. ãƒ€ãƒƒã‚·ãƒ¥ãƒœãƒ¼ãƒ‰ã§ã€Œç¶šãã‹ã‚‰å­¦ç¿’ã€è¡¨ç¤ºç¢ºèª
3. ã€Œç¶šã‘ã‚‹â†’ã€ã‚¯ãƒªãƒƒã‚¯ã§é·ç§»ç¢ºèª
4. ã‚¹ãƒãƒ›ãƒ“ãƒ¥ãƒ¼ã§ç¸¦ç©ã¿ç¢ºèª
