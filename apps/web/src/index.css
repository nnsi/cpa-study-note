@import url('https://fonts.googleapis.com/css2?family=Noto+Sans+JP:wght@300;400;500;600;700&family=Noto+Serif+JP:wght@400;500;600;700&display=swap');

@tailwind base;
@tailwind components;
@tailwind utilities;

@layer base {
  html {
    font-family: "Noto Sans JP", "Hiragino Kaku Gothic ProN", "Yu Gothic UI", sans-serif;
    -webkit-font-smoothing: antialiased;
    -moz-osx-font-smoothing: grayscale;
  }

  body {
    @apply bg-ink-50 text-ink-900;
    background-image:
      linear-gradient(to bottom, rgba(243, 247, 252, 0.8), rgba(250, 250, 251, 1)),
      url("data:image/svg+xml,%3Csvg viewBox='0 0 400 400' xmlns='http://www.w3.org/2000/svg'%3E%3Cfilter id='noiseFilter'%3E%3CfeTurbulence type='fractalNoise' baseFrequency='0.8' numOctaves='4' stitchTiles='stitch'/%3E%3C/filter%3E%3Crect width='100%25' height='100%25' filter='url(%23noiseFilter)' opacity='0.03'/%3E%3C/svg%3E");
    background-attachment: fixed;
  }

  /* スクロールバーのカスタマイズ */
  ::-webkit-scrollbar {
    width: 8px;
    height: 8px;
  }

  ::-webkit-scrollbar-track {
    @apply bg-transparent;
  }

  ::-webkit-scrollbar-thumb {
    @apply bg-ink-300 rounded-full;
    border: 2px solid transparent;
    background-clip: padding-box;
  }

  ::-webkit-scrollbar-thumb:hover {
    @apply bg-ink-400;
  }

  /* フォーカスリングのカスタマイズ */
  :focus-visible {
    @apply outline-none ring-2 ring-indigo-400 ring-offset-2 ring-offset-ink-50;
  }

  /* セレクション */
  ::selection {
    @apply bg-indigo-200 text-indigo-900;
  }
}

@layer components {
  /* プライマリボタン - 藍色グラデーション */
  .btn-primary {
    @apply relative px-6 py-2.5
           bg-gradient-to-br from-indigo-600 to-indigo-700
           text-white font-medium rounded-xl
           shadow-soft hover:shadow-soft-lg
           hover:from-indigo-500 hover:to-indigo-600
           active:from-indigo-700 active:to-indigo-800
           disabled:opacity-50 disabled:cursor-not-allowed disabled:hover:shadow-soft
           transition-all duration-200 ease-out
           overflow-hidden;
  }

  .btn-primary::before {
    content: '';
    @apply absolute inset-0 bg-gradient-to-t from-transparent to-white/10 pointer-events-none;
  }

  /* セカンダリボタン */
  .btn-secondary {
    @apply px-6 py-2.5
           bg-white text-ink-700 font-medium rounded-xl
           border border-ink-200
           shadow-soft hover:shadow-soft-lg
           hover:bg-ink-50 hover:border-ink-300
           active:bg-ink-100
           transition-all duration-200 ease-out;
  }

  /* ゴーストボタン */
  .btn-ghost {
    @apply px-4 py-2
           text-ink-600 font-medium rounded-lg
           hover:bg-ink-100 hover:text-ink-800
           active:bg-ink-200
           transition-colors duration-150;
  }

  /* アクセントボタン - 琥珀色 */
  .btn-accent {
    @apply relative px-6 py-2.5
           bg-gradient-to-br from-amber-400 to-amber-500
           text-ink-900 font-medium rounded-xl
           shadow-soft hover:shadow-glow-amber
           hover:from-amber-300 hover:to-amber-400
           transition-all duration-200 ease-out;
  }

  /* インプットフィールド */
  .input-field {
    @apply w-full px-4 py-3
           bg-white text-ink-900
           border border-ink-200 rounded-xl
           shadow-inner-soft
           placeholder:text-ink-400
           focus:border-indigo-400 focus:ring-2 focus:ring-indigo-100
           focus:outline-none
           transition-all duration-200;
  }

  /* テキストエリア */
  .textarea-field {
    @apply w-full px-4 py-3
           bg-white text-ink-900
           border border-ink-200 rounded-xl
           shadow-inner-soft
           placeholder:text-ink-400
           focus:border-indigo-400 focus:ring-2 focus:ring-indigo-100
           focus:outline-none
           resize-none
           transition-all duration-200;
  }

  /* カード - 紙のような質感 */
  .card {
    @apply relative bg-white rounded-2xl
           border border-ink-100
           shadow-soft
           overflow-hidden;
  }

  .card::before {
    content: '';
    @apply absolute inset-0 bg-gradient-to-br from-white to-ink-50/50 pointer-events-none -z-10;
  }

  .card-hover {
    @apply card hover:shadow-soft-lg hover:border-ink-200
           hover:-translate-y-0.5
           transition-all duration-300 ease-out cursor-pointer;
  }

  /* グラスモーフィズム */
  .glass {
    @apply bg-white/70 backdrop-blur-md
           border border-white/50
           shadow-soft;
  }

  /* 見出し - 明朝体 */
  .heading-serif {
    @apply font-serif font-semibold tracking-tight text-ink-900;
  }

  /* ラベル */
  .label {
    @apply text-xs font-medium uppercase tracking-wider text-ink-500;
  }

  /* バッジ */
  .badge {
    @apply inline-flex items-center px-2.5 py-0.5
           text-xs font-medium rounded-full;
  }

  .badge-primary {
    @apply badge bg-indigo-100 text-indigo-700;
  }

  .badge-success {
    @apply badge bg-jade-100 text-jade-600;
  }

  .badge-warning {
    @apply badge bg-amber-100 text-amber-600;
  }

  .badge-error {
    @apply badge bg-crimson-400/10 text-crimson-500;
  }

  /* ディバイダー */
  .divider {
    @apply h-px bg-gradient-to-r from-transparent via-ink-200 to-transparent;
  }

  /* プログレスバー */
  .progress-bar {
    @apply h-2 bg-ink-100 rounded-full overflow-hidden;
  }

  .progress-bar-fill {
    @apply h-full bg-gradient-to-r from-indigo-500 to-jade-400 rounded-full
           transition-all duration-500 ease-out;
  }

  /* チャットメッセージ */
  .chat-bubble-user {
    @apply relative px-4 py-3
           bg-gradient-to-br from-indigo-600 to-indigo-700
           text-white rounded-2xl rounded-br-md
           shadow-soft;
  }

  .chat-bubble-ai {
    @apply relative px-4 py-3
           bg-white text-ink-800 rounded-2xl rounded-bl-md
           border border-ink-100
           shadow-soft;
  }

  /* ナビゲーションアイテム */
  .nav-item {
    @apply flex items-center gap-3 px-4 py-3
           text-ink-600 font-medium rounded-xl
           hover:bg-indigo-50 hover:text-indigo-700
           transition-colors duration-150;
  }

  .nav-item-active {
    @apply nav-item bg-indigo-50 text-indigo-700
           shadow-inner-soft;
  }

  /* スケルトンローダー */
  .skeleton {
    @apply bg-gradient-to-r from-ink-100 via-ink-50 to-ink-100
           bg-[length:200%_100%] animate-shimmer rounded-lg;
  }
}

@layer utilities {
  /* アニメーション遅延 */
  .animation-delay-100 { animation-delay: 100ms; }
  .animation-delay-200 { animation-delay: 200ms; }
  .animation-delay-300 { animation-delay: 300ms; }
  .animation-delay-400 { animation-delay: 400ms; }
  .animation-delay-500 { animation-delay: 500ms; }

  /* テキストグラデーション */
  .text-gradient {
    @apply bg-clip-text text-transparent
           bg-gradient-to-r from-indigo-600 to-indigo-400;
  }

  .text-gradient-warm {
    @apply bg-clip-text text-transparent
           bg-gradient-to-r from-amber-500 to-amber-300;
  }

  /* ライン制限 */
  .line-clamp-2 {
    display: -webkit-box;
    -webkit-line-clamp: 2;
    -webkit-box-orient: vertical;
    overflow: hidden;
  }

  .line-clamp-3 {
    display: -webkit-box;
    -webkit-line-clamp: 3;
    -webkit-box-orient: vertical;
    overflow: hidden;
  }

  /* 和風の装飾ライン */
  .ornament-line {
    @apply relative;
  }

  .ornament-line::after {
    content: '';
    @apply absolute bottom-0 left-1/2 -translate-x-1/2
           w-12 h-0.5 bg-gradient-to-r from-transparent via-indigo-300 to-transparent;
  }
}
